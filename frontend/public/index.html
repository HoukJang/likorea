<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Long Island Korea" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Long Island Korea - 한국인을 위한 롱아일랜드 생활정보 커뮤니티"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!-- DNS Prefetch for early resolution -->
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    
    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com">
    
    <!-- Preload critical resources -->
    <link rel="preload" as="font" href="https://fonts.gstatic.com/s/pretendard/v9/Pretendard-Regular.woff2" type="font/woff2" crossorigin>
    <link rel="preload" as="font" href="https://fonts.gstatic.com/s/pretendard/v9/Pretendard-Medium.woff2" type="font/woff2" crossorigin>
    <link rel="preload" as="image" href="%PUBLIC_URL%/images/banner-mobile.webp" media="(max-width: 768px)" type="image/webp" fetchpriority="high">
    <link rel="preload" as="image" href="%PUBLIC_URL%/images/banner-desktop.webp" media="(min-width: 769px)" type="image/webp" fetchpriority="high">
    
    <!-- Async font loading with swap -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap"></noscript>
    
    <title>Long Island Korea</title>
    
    <!-- Critical CSS for immediate rendering -->
    <style>
      /* Critical inline styles for above-the-fold content */
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
          'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
          sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      .App {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      
      .banner-container {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        background: #f5f5f5;
      }
      
      .banner-image {
        width: 100%;
        height: auto;
        display: block;
      }
      
      /* Preload fallback font while Pretendard loads */
      body:not(.fonts-loaded) {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      }
    </style>
    <!-- Google Tag Manager (Optimized Loading) -->
    <script>
    // Delay GTM loading until after page interaction or 2 seconds
    window.dataLayer = window.dataLayer || [];
    var gtmLoaded = false;
    function loadGTM() {
      if (gtmLoaded) return;
      gtmLoaded = true;
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.defer=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-NQHK4HKH');
    }
    // Load on first interaction
    ['mousedown', 'touchstart', 'scroll', 'keydown'].forEach(function(event) {
      window.addEventListener(event, loadGTM, { once: true, passive: true });
    });
    // Fallback: load after 2 seconds
    setTimeout(loadGTM, 2000);
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <script>
      // Mark when fonts are loaded
      document.fonts.ready.then(() => {
        document.body.classList.add('fonts-loaded');
      });
    </script>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NQHK4HKH"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>